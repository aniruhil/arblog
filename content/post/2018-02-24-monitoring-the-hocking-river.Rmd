---
title: Monitoring the Hocking River
author: Ani Ruhil
date: '2018-02-24'
slug: monitoring-the-hocking-river
categories:
  - R
tags: []
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
```

Its yet another rainy day but not really since the Hocking River that meanders through our town is under flood-watch. Things must be bad enough that the University was forced to cancel all classes for Monday. To whit: "A forecast for heavy rains and high winds have resulted in a flood warning for Athens County beginning this weekend into Monday. Based on current forecasts, specific areas on campus may be impacted by flooding Sunday evening into Monday morning. In addition to closed roadways and flooding on campus, there is a potential for high winds, which increases the possibility of widespread outages across campus, impacting power in residence halls, dining facilities and academic buildings."

Naturally, being ever curious I decided to check out the [`dataRetrieval` package](https://owi.usgs.gov/R/dataRetrieval.html) and am glad I did because now I have another toy I can share with our Environmental Studies students. Here is a just quick plot of discharge levels over time. 

```{r dr01}
library(dataRetrieval)

siteNo <- "03159500"
pCode <- "00060"
start.date <- "1993-04-24"
end.date <- "2018-02-24"

hocking <- readNWISuv(siteNumbers = siteNo,
                      parameterCd = pCode,
                      startDate = start.date,
                      endDate = end.date)

parameterInfo <- attr(hocking, "variableInfo")
siteInfo <- attr(hocking, "siteInfo")

hocking <- renameNWISColumns(hocking)
names(hocking)

hocking$dates = as.Date(as.character(as.POSIXct(hocking$dateTime)))

library(ggplot2)
library(hrbrthemes)
ggplot(data = hocking, aes(dates, Flow_Inst)) +
  geom_line(color = "cornflowerblue") + scale_x_date(date_breaks = "4 years") + labs(y = "Discharge, cubic feet per second", x = "Date", title = "The Hocking River, Ohio", subtitle = "(1993 - 2018)", caption = "Source: USGS") + ylim(c(0, 20000)) + theme_ipsum_rc()
```
